
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NMLS SAFE Exam Study Guide</title>
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Urbanist', sans-serif; margin: 0; background: #f4f4f4; color: #111; }
    header, footer { background: #003366; color: #fff; text-align: center; padding: 1rem; }
    nav { background: #005599; padding: 0.5rem; text-align: center; }
    nav a {
      color: #fff;
      margin: 0 10px;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }
    .tab-section {
      display: none;
      padding: 2rem;
      max-width: 960px;
      margin: auto;
      background: #fff;
    }
    .tab-section.active {
      display: block;
    }
    h2 { color: #003366; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
    ul { padding-left: 1.5rem; }

    .quiz-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem; }
    .quiz-card {
      background: #e2e8f0;
      padding: 1rem;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      cursor: pointer;
      transition: 0.3s;
    }
    .quiz-card:hover {
      background: #cbd5e1;
    }

    /* Modal styling */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0; width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    .modal-content {
      background-color: #fff;
      margin: 5% auto;
      padding: 20px;
      width: 90%;
      max-width: 700px;
      border-radius: 8px;
      position: relative;
    }
    .close {
      color: #aaa;
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .quiz-question p { font-weight: bold; margin-bottom: 0.5rem; }
    .quiz-question label { display: block; margin-bottom: 0.4rem; }
    .results { font-weight: bold; margin-top: 1rem; }
    button.submit-btn {
      background: #003366;
      color: #fff;
      border: none;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <h1>NMLS SAFE Exam Study Guide</h1>
    <p>Professional, interactive, and easy to use</p>
  </header>

  <nav>
    <a onclick="showTab('overview')">Overview</a>
    <a onclick="showTab('laws')">Federal Laws</a>
    <a onclick="showTab('knowledge')">General Knowledge</a>
    <a onclick="showTab('origination')">Loan Origination</a>
    <a onclick="showTab('ethics')">Ethics</a>
    <a onclick="showTab('state')">State Content</a>
    <a onclick="showTab('math')">Math</a>
    <a onclick="showTab('flashcards')">Flashcards</a>
    <a onclick="showTab('quizzes')">Practice Tests</a>
  </nav>

  <div id="overview" class="tab-section active"><h2>Overview</h2><p>Click through the tabs to review study material or take a quiz using the Practice Tests section.</p></div>
  <div id="laws" class="tab-section"><h2>Federal Laws</h2><ul><li>TRID, TILA, RESPA, ECOA, HMDA, FCRA...</li></ul></div>
  <div id="knowledge" class="tab-section"><h2>General Knowledge</h2><p>Loan types, terms, risks, features</p></div>
  <div id="origination" class="tab-section"><h2>Loan Origination</h2><p>1003, disclosures, processing, underwriting</p></div>
  <div id="ethics" class="tab-section"><h2>Ethics</h2><p>Fraud, discrimination, redlining, RESPA Section 8</p></div>
  <div id="state" class="tab-section"><h2>State Content</h2><p>Licensing, regulators, enforcement</p></div>
  <div id="math" class="tab-section"><h2>Math</h2><p>DTI, LTV, CLTV, points, prepaid interest</p></div>
  <div id="flashcards" class="tab-section"><h2>Flashcards</h2><p>Coming soon: Flip-cards for key terms and laws</p></div>

  <div id="quizzes" class="tab-section">
    <h2>Practice Tests</h2>
    <div class="quiz-grid">
      <div class="quiz-card" onclick="launchQuiz('Federal Laws')">Federal Laws – 10Q</div>
      <div class="quiz-card" onclick="launchQuiz('Ethics')">Ethics – 10Q</div>
      <div class="quiz-card" onclick="launchQuiz('Loan Origination')">Loan Origination – 10Q</div>
      <div class="quiz-card" onclick="launchQuiz('Math')">Math – 10Q</div>
      <div class="quiz-card" onclick="launchQuiz('Final Exam')">Final Exam – 50Q</div>
    </div>
  </div>

  <!-- Quiz Modal -->
  <div id="quizModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div id="quizContent">
        <h3 id="quizTitle">Quiz Title</h3>
        <div id="quizQuestions">
          <!-- JS will populate quiz questions here -->
        </div>
        <button class="submit-btn" onclick="gradeModalQuiz()">Submit Answers</button>
        <div class="results" id="quizResults"></div>
      </div>
    </div>
  </div>

  <footer><p>&copy; 2025 NMLS Study Guide | Built by Loan Servant</p></footer>

  <script>
    function showTab(id) {
      document.querySelectorAll('.tab-section').forEach(el => el.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      window.scrollTo(0, 0);
    }

    const quizzes = {
      "Federal Laws": [
        { q: "Which law requires disclosure of APR?", a: "TILA", o: ["RESPA", "TILA", "ECOA", "HMDA"] },
        { q: "Which RESPA section prohibits kickbacks?", a: "Section 8", o: ["Section 6", "Section 8", "Section 9", "Section 10"] }
      ],
      "Ethics": [
        { q: "What is reverse redlining?", a: "Targeting minorities with bad loans", o: ["Refusing loans based on zip code", "Targeting minorities with bad loans", "Churning refis", "Overdisclosure"] }
      ],
      "Loan Origination": [
        { q: "Which form is also called the URLA?", a: "1003", o: ["1004", "1008", "1003", "1040"] }
      ],
      "Math": [
        { q: "What is the formula for LTV?", a: "Loan ÷ Property Value", o: ["Value ÷ Loan", "Loan ÷ Property Value", "DTI × Income", "Rate × Years"] }
      ],
      "Final Exam": [
        { q: "How many days before closing must the CD be delivered?", a: "3 business days", o: ["1 day", "3 business days", "5 calendar days", "7 days"] }
      ]
    };

    function launchQuiz(topic) {
      const quizBlock = document.getElementById("quizQuestions");
      const title = document.getElementById("quizTitle");
      const results = document.getElementById("quizResults");
      quizBlock.innerHTML = "";
      results.innerHTML = "";
      title.innerText = topic + " Quiz";

      quizzes[topic].forEach((item, idx) => {
        const div = document.createElement("div");
        div.className = "quiz-question";
        div.dataset.correct = item.a;
        let html = `<p>${idx + 1}. ${item.q}</p>`;
        item.o.forEach(opt => {
          html += `<label><input type="radio" name="q${idx}" value="${opt}"> ${opt}</label>`;
        });
        div.innerHTML = html;
        quizBlock.appendChild(div);
      });

      document.getElementById("quizModal").style.display = "block";
    }

    function gradeModalQuiz() {
      const questions = document.querySelectorAll("#quizQuestions .quiz-question");
      let score = 0;
      questions.forEach(q => {
        const correct = q.dataset.correct;
        const selected = q.querySelector("input:checked");
        if (selected && selected.value === correct) {
          score++;
          selected.parentElement.style.color = "green";
        } else if (selected) {
          selected.parentElement.style.color = "red";
        }
      });
      document.getElementById("quizResults").textContent = `You scored ${score} out of ${questions.length}`;
    }

    function closeModal() {
      document.getElementById("quizModal").style.display = "none";
    }
  </script>
</body>
</html>
